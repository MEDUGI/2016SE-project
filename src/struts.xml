<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
        "http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
    <package name="register-login" extends="struts-default">
        <action name="register_stu" class="action.register_stu">
            <result name="SUCCESS" type="chain">
                <param name="actionName"> mainpage </param>
                <param name="isStudent"> true </param>
                <param name="isProfessor"> false </param>
                <param name="username"> ${mail}</param>
            </result>
            <result name="NULL">/null.jsp</result>
            <result name="NOT_SAME">/not_same.jsp</result>
            <result name="MAIL">/mail.jsp</result>
        </action>

        <action name="register_teacher" class="action.register_teacher">
            <result name="SUCCESS" type="chain">
                <param name="actionName"> mainpage </param>
                <param name="isStudent"> false </param>
                <param name="isProfessor"> true </param>
                <param name="username"> ${mail}</param>
            </result>
            <result name="NULL">/null.jsp</result>
            <result name="NOT_SAME">/not_same.jsp</result>
            <result name="MAIL">/mail.jsp</result>
        </action>

        <action name="login_admin" class="action.login_admin">
            <result name="SUCCESS">/admin.jsp</result>
            <result name="PASSWORD">/password.jsp</result>
            <result name="ACCOUNT">/account.jsp</result>
        </action>

        <action name="login_normal" class="action.login_normal">
            <result name="STUDENT" type="chain">
                <param name="actionName"> mainpage </param>
                <param name="isStudent"> true </param>
                <param name="isProfessor"> false </param>
                <param name="username"> ${account}</param>
            </result>
            <result name="TEACHER" type="chain">
                <param name="actionName"> mainpage </param>
                <param name="isStudent"> false </param>
                <param name="isProfessor"> true </param>
                <param name="username"> ${account}</param>
            </result>
            <result name="PASSWORD">/password.jsp</result>
            <result name="ACCOUNT">/account.jsp</result>
        </action>

        <action name="change_password" class="action.change_password">
            <result name="NULL">/null.jsp</result>
            <result name="NOT_SAME">/not_same.jsp</result>
            <result name="MAIL">/mail.jsp</result>
            <result name="SUCCESS">/index.jsp</result>
        </action>
    </package>
    <package name="mainpagePack" extends="struts-default">
        <action name="mainpage" class="action.mainpageAction">
            <result name="SUCCESS">/mainpage.jsp</result>
            <interceptor-ref name="chain"></interceptor-ref>
        </action>
    </package>
</struts>